<div class="p-2 bg-white rounded-lg shadow-sm">
  <!-- Header - Sticky -->
  <div class="sticky top-0 z-20 bg-white mb-6 py-3">
    <div class="flex items-center gap-3">
      <!-- User Avatar - Only visible on small screens -->
      <div class="w-12 h-12 sm:block md:hidden bg-blue-500 rounded-full flex items-center justify-center text-white font-medium">
        {{ currentUser.firstName.charAt(0).toUpperCase() }}{{ currentUser.lastName.charAt(0).toUpperCase() }}
      </div>
      
      <!-- Header Content -->
      <div class="flex-1">
        <h1 class="text-2xl font-bold text-gray-900">ICD Dashboard</h1>
        <p class="text-gray-600">Monitor and manage document circulation</p>
      </div>
    </div>
  </div>

  <!-- Scrollable Tab Navigation with Arrows - Sticky -->
  <div class="sticky top-20 z-10 bg-white border-b border-gray-200 mb-6">
    <div class="relative flex items-center">
      <!-- Left Arrow -->
      <button 
        *ngIf="canScrollLeft()"
        (click)="scrollLeft()"
        class="absolute left-0 z-30 p-2 bg-white shadow-md rounded-full border border-gray-200 hover:bg-gray-50 transition-colors">
        <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
      </button>

      <!-- Tab Container with Overflow Hidden -->
      <div class="overflow-hidden mx-8">
        <div 
          #tabContainer
          class="overflow-x-auto"
          style="scrollbar-width: none; -ms-overflow-style: none;"
          (scroll)="$event">
          <nav class="flex space-x-6 px-4" style="-webkit-scrollbar: none;">
            <button
              *ngFor="let tab of tabs"
              (click)="switchTab(tab.id)"
              class="flex-shrink-0 py-4 px-2 border-b-2 font-medium text-sm whitespace-nowrap transition-all duration-200"
              [class.border-blue-500]="activeTab === tab.id"
              [class.text-blue-600]="activeTab === tab.id"
              [class.bg-blue-50]="activeTab === tab.id"
              [class.border-transparent]="activeTab !== tab.id"
              [class.text-gray-500]="activeTab !== tab.id"
              [class.hover:text-gray-700]="activeTab !== tab.id"
              [class.hover:bg-gray-50]="activeTab !== tab.id"
              [class.hidden]="(tab.id === 'inbox' || tab.id === 'sent' || tab.id === 'archived' || tab.id === 'recycled')"
              [class.md:hidden]="(tab.id === 'inbox' || tab.id === 'sent' || tab.id === 'archived' || tab.id === 'recycled')"
              [class.sm:block]="(tab.id === 'inbox' || tab.id === 'sent' || tab.id === 'archived' || tab.id === 'recycled')">
              {{ tab.label }}
            </button>
          </nav>
        </div>
      </div>

      <!-- Right Arrow -->
      <button 
        *ngIf="canScrollRight()"
        (click)="scrollRight()"
        class="absolute right-0 z-30 p-2 bg-white shadow-md rounded-full border border-gray-200 hover:bg-gray-50 transition-colors">
        <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Tab Content -->
  <div>
    <!-- Overview Tab -->
    <div *ngIf="activeTab === 'overview'">
      <app-icd-overview></app-icd-overview>
    </div>

    <!-- User Management Tab -->
    <div *ngIf="activeTab === 'icd-user-management'">
      <app-icd-user-management></app-icd-user-management>
    </div>

    <!-- Document Management Tab -->
    <div *ngIf="activeTab === 'icd-document-management'">
      <app-icd-document-management></app-icd-document-management>
    </div>

    <!-- Department Management Tab -->
    <div *ngIf="activeTab === 'icd-department-management'">
      <app-icd-department-management></app-icd-department-management>
    </div>

    <!-- Inbox Tab -->
    <div 
      class=""
      *ngIf="activeTab === 'inbox'">
      <app-inbox></app-inbox>
    </div>

    <!-- Sent Tab -->
    <div *ngIf="activeTab === 'sent'">
      <app-sent></app-sent>
    </div>

    <!-- Archived Tab -->
    <div *ngIf="activeTab === 'archived'">
      <app-archived></app-archived>
    </div>

    <!-- Recycled Tab -->
    <div *ngIf="activeTab === 'recycled'">
      <app-recycle></app-recycle>
    </div>
  </div>
</div>
